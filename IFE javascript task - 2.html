<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>
<body>
    <!-- 在上一任务基础上继续JavaScript的体验
        学习JavaScript中的if判断语法，for循环语法
        学习JavaScript中的数组对象
        学习如何读取、处理数据，并动态创建、修改DOM中的内容
        任务描述：页面加载后，将提供的空气质量数据数组，按照某种逻辑（比如空气质量大于60）进行过滤筛选，最后将符合条件的数据按照一定的格式要求显示在网页上 -->

  <h3>污染城市列表</h3>
  <ul id="aqi-list">
<!--   
    <li>第一名：福州（样例），10</li>
  	<li>第二名：福州（样例），10</li> -->
  </ul>

<script type="text/javascript">

var aqiData = [
  ["北京", 90],
  ["上海", 50],
  ["福州", 10],
  ["广州", 50],
  ["成都", 90],
  ["西安", 100]
];

(function () {

  /*
  在注释下方编写代码
  遍历读取aqiData中各个城市的数据
  将空气质量指数大于60的城市显示到aqi-list的列表中
  */
  $ = (selector) => {
            /*
             * @param {String} selector 元素selector
             * @return {Elements} 根据selector获得的元素集合  
             */
            let nodeList = document.body.querySelectorAll(selector)
            if (nodeList.length) {
                return nodeList
            }
        }
 sortByNumber = (a, b) => {
    //  排序方法（降序）
     return b[1] - a[1]
 }
 formaterIndex = {
     1: '一',
     2: '二',
     3: '三',
     4: '四',
     5: '五',
     6: '六'
 }
 let aqiOver60 = aqiData.filter(data => data[1] > 60).sort(sortByNumber)
 let aqiList = $('ul#aqi-list')[0]
 let lists = ''
 aqiOver60.forEach((data, index) => {
     if (data[1] > 60) {
         lists += `<li>第${formaterIndex[index + 1]}名：${data[0]}，${data[1]}</li>`
     }
 })
 aqiList.innerHTML = lists

})();

</script>
</body>
</html>